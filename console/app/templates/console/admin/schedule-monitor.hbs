{{page-title (t "console.admin.schedule-monitor.schedule-monitor")}}
<Layout::Section::Header @title={{t "console.admin.schedule-monitor.schedule-monitor"}} />

<Layout::Section::Body class="overflow-y-scroll h-full">
    <div class="next-table-wrapper">
        <table>
            <thead>
                <tr>
                    <th {{set-width "300px"}}>Name</th>
                    <th {{set-width "100px"}}>Type</th>
                    <th {{set-width "90px"}}>Timezone</th>
                    <th>Last Started</th>
                    <th>Last Finished</th>
                    <th>Last Failure</th>
                </tr>
            </thead>
            <tbody>
                {{#each @model as |task|}}
                    <tr>
                        <td>
                            <LinkTo @route="console.admin.schedule-monitor.logs" @model={{task}}>{{task.name}}</LinkTo>
                        </td>
                        <td>{{task.type}}</td>
                        <td>{{task.timezone}}</td>
                        <td>{{n-a task.last_started_at_fmt}}</td>
                        <td>{{n-a task.last_finished_at_fmt}}</td>
                        <td>{{n-a task.last_failed_at_fmt}}</td>
                    </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
</Layout::Section::Body>
{{outlet}}